<div class="relative inline-block text-left">
  <button (click)="toggle()" class="flex items-center gap-3 pl-4 border-l border-gray-100 hover:opacity-80 transition-opacity">
    <div class="text-right hidden sm:block">
      <p class="text-sm font-bold text-slate-700">Juan José Pérez</p>
      <p class="text-[10px] text-blue-500 font-bold uppercase tracking-tighter">Admin Mode</p>
    </div>
    <div class="w-10 h-10 rounded-full bg-gradient-to-tr from-slate-200 to-slate-100 overflow-hidden border border-gray-200 shadow-sm">
      <img src="https://ui-avatars.com/api/?name=Juan+Perez&background=0f172a&color=fff" alt="User">
    </div>
  </button>

  <div *ngIf="isOpen()" 
       class="absolute right-0 mt-3 w-72 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-50 animate-in fade-in zoom-in duration-200">
    
    <div class="p-5 bg-slate-50/50 border-b border-gray-100">
      <div class="flex items-start gap-3">
        <div class="w-12 h-12 rounded-full border-2 border-white shadow-md overflow-hidden shrink-0">
          <img src="https://ui-avatars.com/api/?name=Juan+Perez" alt="Profile">
        </div>
        <div class="overflow-hidden">
          <p class="font-bold text-slate-800 truncate">Juan José Pérez Etchegaray</p>
          <p class="text-[11px] text-slate-500 leading-tight">Ingeniero Electrónico | Análisis de Negocios Digitales</p>
        </div>
      </div>
      <button class="w-full mt-4 py-1.5 border border-blue-600 text-blue-600 rounded-full text-xs font-bold hover:bg-blue-50 transition-colors">
        Ver perfil
      </button>
    </div>

    <div class="py-2">
      <p class="px-5 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest">Cuenta</p>
      <a href="#" class="flex items-center gap-3 px-5 py-2 text-sm text-slate-600 hover:bg-slate-50 transition-colors">
        <lucide-icon name="settings" class="w-4 h-4"></lucide-icon> Ajustes y privacidad
      </a>
      <a href="#" class="flex items-center gap-3 px-5 py-2 text-sm text-slate-600 hover:bg-slate-50 transition-colors">
        <lucide-icon name="help-circle" class="w-4 h-4"></lucide-icon> Ayuda
      </a>
    </div>

    <div class="py-2 border-t border-gray-50">
      <p class="px-5 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest">Gestionar</p>
      <a href="#" class="flex items-center gap-3 px-5 py-2 text-sm text-slate-600 hover:bg-slate-50 transition-colors">
        <lucide-icon name="layout" class="w-4 h-4"></lucide-icon> Publicaciones y actividad
      </a>
    </div>

    <button (click)="logout()" 
            class="w-full text-left px-5 py-4 border-t border-gray-100 text-sm font-bold text-red-500 hover:bg-red-50 transition-colors">
      Cerrar sesión
    </button>
  </div>
</div>
